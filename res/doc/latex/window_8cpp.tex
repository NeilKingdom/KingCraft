\doxysection{/home/neil/devel/projects/kingcraft/src/window.cpp File Reference}
\hypertarget{window_8cpp}{}\label{window_8cpp}\index{/home/neil/devel/projects/kingcraft/src/window.cpp@{/home/neil/devel/projects/kingcraft/src/window.cpp}}


Handles actions related to the game window. Has actions for creating the window, handling events, rendering the frame buffer, etc.  


{\ttfamily \#include "{}window.\+hpp"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{window_8cpp_a69235d16147832d174baf4f3af87775d}{calculate\+\_\+frame\+\_\+rate}} (int \&fps, int \&frames\+\_\+elapsed, steady\+\_\+clock\+::time\+\_\+point \&since)
\begin{DoxyCompactList}\small\item\em Prints the current frame rate to stdout. \end{DoxyCompactList}\item 
GLXFBConfig \mbox{\hyperlink{window_8cpp_a86ff5f7ca1c7bd4b1157c96eebcb7135}{create\+\_\+window}} (\mbox{\hyperlink{structKCWindow}{KCWindow}} \&win, const std\+::string win\+\_\+name, const size\+\_\+t win\+\_\+width, const size\+\_\+t win\+\_\+height)
\begin{DoxyCompactList}\small\item\em Creates a new game window. \end{DoxyCompactList}\item 
GLXContext \mbox{\hyperlink{window_8cpp_a396e5c5193a13e160ab36aa8f665bf8f}{create\+\_\+opengl\+\_\+context}} (\mbox{\hyperlink{structKCWindow}{KCWindow}} \&win, const GLXFBConfig \&fb\+\_\+config)
\begin{DoxyCompactList}\small\item\em Create an Open\+GL context for the given window. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{window_8cpp_a717cc0d68c14d6c100c5ee9106ac352e}{process\+\_\+events}} (\mbox{\hyperlink{structKCWindow}{KCWindow}} \&win, \mbox{\hyperlink{classCamera}{Camera}} \&camera)
\begin{DoxyCompactList}\small\item\em Processes window events in the queue until there aren\textquotesingle{}t any left. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{window_8cpp_a5e447999d022b239a2f5592714a3ae22}{render\+\_\+frame}} (const \mbox{\hyperlink{structKCWindow}{KCWindow}} \&win, \mbox{\hyperlink{classCamera}{Camera}} \&camera, \mbox{\hyperlink{structMvp}{Mvp}} \&mvp, const \mbox{\hyperlink{classShaderProgram}{Shader\+Program}} \&shader, const std\+::vector$<$ std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{structBlock}{Block}} $>$ $>$ $>$ \&blocks)
\begin{DoxyCompactList}\small\item\em Renders the current game frame. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles actions related to the game window. Has actions for creating the window, handling events, rendering the frame buffer, etc. 

\begin{DoxyAuthor}{Author}
Neil Kingdom 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxySince}{Since}
02-\/03-\/2024 
\end{DoxySince}
References\+:
\begin{DoxyItemize}
\item \href{https://www.khronos.org/opengl/wiki/Tutorial:}{\texttt{ https\+://www.\+khronos.\+org/opengl/wiki/\+Tutorial\+:}}{\itshape Open\+GL\+\_\+3.\+0\+\_\+\+Context\+\_\+\+Creation}(GLX) 
\end{DoxyItemize}

\doxysubsection{Function Documentation}
\Hypertarget{window_8cpp_a69235d16147832d174baf4f3af87775d}\index{window.cpp@{window.cpp}!calculate\_frame\_rate@{calculate\_frame\_rate}}
\index{calculate\_frame\_rate@{calculate\_frame\_rate}!window.cpp@{window.cpp}}
\doxysubsubsection{\texorpdfstring{calculate\_frame\_rate()}{calculate\_frame\_rate()}}
{\footnotesize\ttfamily \label{window_8cpp_a69235d16147832d174baf4f3af87775d} 
void calculate\+\_\+frame\+\_\+rate (\begin{DoxyParamCaption}\item[{int \&}]{fps}{, }\item[{int \&}]{frames\+\_\+elapsed}{, }\item[{steady\+\_\+clock\+::time\+\_\+point \&}]{since}{}\end{DoxyParamCaption})}



Prints the current frame rate to stdout. 

\begin{DoxyWarning}{Warning}
Must be called once per frame. 
\end{DoxyWarning}
\begin{DoxySince}{Since}
02-\/03-\/2024 
\end{DoxySince}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em fps} & The current frames per second (FPS) \\
\hline
\mbox{\texttt{ in,out}}  & {\em frames\+\_\+elapsed} & The amount of frames that have elapsed since {\bfseries{since}} \\
\hline
\mbox{\texttt{ in,out}}  & {\em since} & The amount of time that has passed since the last call to this function \\
\hline
\end{DoxyParams}
\Hypertarget{window_8cpp_a396e5c5193a13e160ab36aa8f665bf8f}\index{window.cpp@{window.cpp}!create\_opengl\_context@{create\_opengl\_context}}
\index{create\_opengl\_context@{create\_opengl\_context}!window.cpp@{window.cpp}}
\doxysubsubsection{\texorpdfstring{create\_opengl\_context()}{create\_opengl\_context()}}
{\footnotesize\ttfamily \label{window_8cpp_a396e5c5193a13e160ab36aa8f665bf8f} 
GLXContext create\+\_\+opengl\+\_\+context (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structKCWindow}{KCWindow}} \&}]{win}{, }\item[{const GLXFBConfig \&}]{fb\+\_\+config}{}\end{DoxyParamCaption})}



Create an Open\+GL context for the given window. 

\begin{DoxySince}{Since}
02-\/03-\/2024 
\end{DoxySince}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em win} & An instance of \doxylink{structKCWindow}{KCWindow} containing window-\/related data \\
\hline
\mbox{\texttt{ in}}  & {\em fb\+\_\+config} & The frame buffer configuration that shall be bound to the Open\+GL context \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An Open\+GL context for {\bfseries{win}} 
\end{DoxyReturn}
\Hypertarget{window_8cpp_a86ff5f7ca1c7bd4b1157c96eebcb7135}\index{window.cpp@{window.cpp}!create\_window@{create\_window}}
\index{create\_window@{create\_window}!window.cpp@{window.cpp}}
\doxysubsubsection{\texorpdfstring{create\_window()}{create\_window()}}
{\footnotesize\ttfamily \label{window_8cpp_a86ff5f7ca1c7bd4b1157c96eebcb7135} 
GLXFBConfig create\+\_\+window (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structKCWindow}{KCWindow}} \&}]{win}{, }\item[{const std\+::string}]{win\+\_\+name}{, }\item[{const size\+\_\+t}]{win\+\_\+width}{, }\item[{const size\+\_\+t}]{win\+\_\+height}{}\end{DoxyParamCaption})}



Creates a new game window. 

\begin{DoxySince}{Since}
02-\/03-\/2024 
\end{DoxySince}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em x\+\_\+objs} & An instance of XObjects containing X11-\/related data \\
\hline
\mbox{\texttt{ in}}  & {\em win\+\_\+name} & The name of the new window \\
\hline
\mbox{\texttt{ in}}  & {\em win\+\_\+width} & The width of the new window \\
\hline
\mbox{\texttt{ in}}  & {\em win\+\_\+height} & The height of the new window \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The best available frame buffer configuration for the new window 
\end{DoxyReturn}
\Hypertarget{window_8cpp_a717cc0d68c14d6c100c5ee9106ac352e}\index{window.cpp@{window.cpp}!process\_events@{process\_events}}
\index{process\_events@{process\_events}!window.cpp@{window.cpp}}
\doxysubsubsection{\texorpdfstring{process\_events()}{process\_events()}}
{\footnotesize\ttfamily \label{window_8cpp_a717cc0d68c14d6c100c5ee9106ac352e} 
void process\+\_\+events (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structKCWindow}{KCWindow}} \&}]{win}{, }\item[{\mbox{\hyperlink{classCamera}{Camera}} \&}]{camera}{}\end{DoxyParamCaption})}



Processes window events in the queue until there aren\textquotesingle{}t any left. 

\begin{DoxySince}{Since}
02-\/03-\/2024 
\end{DoxySince}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em win} & An instance of \doxylink{structKCWindow}{KCWindow} containing window-\/related data \\
\hline
\mbox{\texttt{ in,out}}  & {\em camera} & The active camera which will be updated on Motion\+Notify events \\
\hline
\end{DoxyParams}
\Hypertarget{window_8cpp_a5e447999d022b239a2f5592714a3ae22}\index{window.cpp@{window.cpp}!render\_frame@{render\_frame}}
\index{render\_frame@{render\_frame}!window.cpp@{window.cpp}}
\doxysubsubsection{\texorpdfstring{render\_frame()}{render\_frame()}}
{\footnotesize\ttfamily \label{window_8cpp_a5e447999d022b239a2f5592714a3ae22} 
void render\+\_\+frame (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structKCWindow}{KCWindow}} \&}]{win}{, }\item[{\mbox{\hyperlink{classCamera}{Camera}} \&}]{camera}{, }\item[{\mbox{\hyperlink{structMvp}{Mvp}} \&}]{mvp}{, }\item[{const \mbox{\hyperlink{classShaderProgram}{Shader\+Program}} \&}]{shader}{, }\item[{const std\+::vector$<$ std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{structBlock}{Block}} $>$ $>$ $>$ \&}]{blocks}{}\end{DoxyParamCaption})}



Renders the current game frame. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em win} & An instance of \doxylink{structKCWindow}{KCWindow} containing window-\/related data \\
\hline
\mbox{\texttt{ in,out}}  & {\em camera} & The currently active camera used for calculating perspective \\
\hline
\mbox{\texttt{ in,out}}  & {\em mvp} & The model-\/view-\/projection matrix \\
\hline
\mbox{\texttt{ in}}  & {\em shader} & Shader being used for the current draw call \\
\hline
\end{DoxyParams}
